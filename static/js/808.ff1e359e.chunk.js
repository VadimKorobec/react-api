"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[808],{6808:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(9439),a=n(184),s=function(e){var t=e.children;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h5",{className:"card-title",children:"Error"}),(0,a.jsx)("p",{className:"card-text",children:t})]})})})},c=n(2791),l=n(299),i="idle",u="pending",h="rejected",o="resolved",d=function(e){var t=e.searchText,n=(0,l.a)(),d=n.news,f=n.setNews,m=(0,c.useState)(""),p=(0,r.Z)(m,2),v=p[0],x=p[1],j=(0,c.useState)(i),g=(0,r.Z)(j,2),S=g[0],b=g[1];return(0,c.useEffect)((function(){d&&b(o)}),[d]),(0,c.useEffect)((function(){t&&(b(u),function(e){return fetch("".concat("https://newsapi.org/v2","/everything?q=").concat(e),{headers:{"X-Api-Key":"8944f736087047f8879ae82d5af2a170"}})}(t).then((function(e){return e.json()})).then((function(e){if("ok"!==e.status)return Promise.reject(e.message);f(e.articles),b(o)})).catch((function(e){x(e),b(h)})))}),[t,f]),S===u?(0,a.jsx)("div",{className:"spinner-border",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):S===o?(0,a.jsx)("ul",{children:d.map((function(e){return(0,a.jsxs)("li",{children:[(0,a.jsx)("p",{children:e.title}),(0,a.jsx)("p",{children:e.author}),(0,a.jsx)("p",{children:e.description})]},e.url)}))}):S===h?(0,a.jsx)(s,{children:v}):void 0},f=n(5671),m=n(3144),p=n(136),v=n(9388),x=function(e){(0,p.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,f.Z)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.handleSearch(e.state.value),e.reset()},e.reset=function(){e.setState({value:""})},e}return(0,m.Z)(n,[{key:"render",value:function(){var e=this.state.value;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"d-flex mt-2",role:"search",onSubmit:this.handleSubmit,children:[(0,a.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",onChange:this.handleChange,value:e}),(0,a.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})}}]),n}(c.Component),j=function(){var e=(0,c.useState)(""),t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"News Page"}),(0,a.jsx)(x,{handleSearch:function(e){s(e)}}),(0,a.jsx)(d,{searchText:n})]})}}}]);
//# sourceMappingURL=808.ff1e359e.chunk.js.map